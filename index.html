<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-User Trading Journal - Cloud Sync</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        /* All the CSS from before remains the same */
        /* ... (all previous CSS styles) ... */
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <div class="user-avatar">
            <span class="material-icons">account_circle</span>
        </div>
        <h1>Multi-User Trading Journal</h1>
        
        <!-- Google Sign-in Button -->
        <div style="margin-bottom: 20px; text-align: center;">
            <button class="btn btn-primary" id="googleSignInBtn" style="width: 100%; background: #4285F4;">
                <span class="material-icons">account_circle</span>
                Sign in with Google
            </button>
        </div>
        
        <div style="text-align: center; margin: 20px 0; position: relative;">
            <hr style="border: none; border-top: 1px solid var(--border-light);">
            <span style="background: var(--card-light); padding: 0 10px; position: absolute; top: -10px; left: 50%; transform: translateX(-50%);">
                OR
            </span>
        </div>
        
        <div class="form-group">
            <label for="userEmail">Email Address</label>
            <input type="email" id="userEmail" placeholder="your.email@example.com">
        </div>
        
        <div class="form-group">
            <label for="userName">Display Name</label>
            <input type="text" id="userName" placeholder="John Trader">
        </div>
        
        <button class="btn btn-primary" style="width: 100%; margin-bottom: 16px;" id="loginBtn">
            <span class="material-icons">login</span>
            Login / Register
        </button>
        
        <div style="text-align: center; margin-top: 20px;">
            <button class="btn btn-secondary" id="offlineModeBtn" style="width: 100%;">
                <span class="material-icons">computer</span>
                Use Offline Mode
            </button>
        </div>
        
        <p style="text-align: center; font-size: 12px; opacity: 0.7; margin-top: 16px;">
            Google Sign-in enables real cloud sync
        </p>
    </div>

    <!-- Cloud Connection Setup Modal -->
    <div id="cloudSetupModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Setup Cloud Sync</h3>
                <button class="btn-icon" id="closeCloudSetup">
                    <span class="material-icons">close</span>
                </button>
            </div>
            
            <div style="margin-bottom: 20px;">
                <p>To enable cloud sync, you need to:</p>
                <ol style="margin-left: 20px; margin-bottom: 20px;">
                    <li>Create a Google Apps Script project</li>
                    <li>Deploy it as a Web App</li>
                    <li>Copy the Web App URL below</li>
                </ol>
            </div>
            
            <div class="form-group">
                <label>Google Apps Script Web App URL</label>
                <input type="url" id="gasWebAppUrl" placeholder="https://script.google.com/macros/s/.../exec">
                <p style="font-size: 12px; opacity: 0.7; margin-top: 5px;">
                    Leave empty to use our demo server (data may be reset periodically)
                </p>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="enableCloudSync" checked>
                    Enable Cloud Sync
                </label>
            </div>
            
            <div style="display: flex; gap: 12px; margin-top: 24px;">
                <button class="btn btn-primary" id="saveCloudConfig">
                    <span class="material-icons">save</span>
                    Save Configuration
                </button>
                <button class="btn btn-secondary" id="skipCloudSetup">
                    <span class="material-icons">skip_next</span>
                    Skip for Now
                </button>
            </div>
            
            <div style="margin-top: 30px; padding: 15px; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                <h4 style="margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                    <span class="material-icons">code</span>
                    Need help setting up Google Apps Script?
                </h4>
                <button class="btn btn-secondary" id="showGASInstructions" style="margin-bottom: 10px;">
                    <span class="material-icons">help</span>
                    Show Setup Instructions
                </button>
                
                <div id="gasInstructions" style="display: none; margin-top: 15px;">
                    <div class="code-block">
// Copy this code to Google Apps Script (script.google.com)
// Then deploy as Web App with these settings:
// - Execute as: Me
// - Who has access: Anyone

const SPREADSHEET_ID = 'YOUR_SPREADSHEET_ID_HERE';

function doPost(e) {
  try {
    const data = JSON.parse(e.postData.contents);
    const action = data.action;
    const user = data.user;
    
    // Get or create spreadsheet
    let spreadsheet = SpreadsheetApp.openById(SPREADSHEET_ID);
    if (!spreadsheet) {
      spreadsheet = SpreadsheetApp.create('TradingJournalData');
    }
    
    // Get or create user sheet
    let sheet = spreadsheet.getSheetByName(user.id);
    if (!sheet) {
      sheet = spreadsheet.insertSheet(user.id);
      // Add headers
      sheet.appendRow(['id', 'pair', 'type', 'entry', 'exit', 'size', 'stopLoss', 
                       'takeProfit', 'session', 'dateTime', 'notes', 'profitLoss', 
                       'result', 'userId', 'createdAt', 'updatedAt']);
    }
    
    if (action === 'saveTrades') {
      const trades = data.trades;
      // Clear existing data except header
      sheet.clearContents();
      sheet.appendRow(['id', 'pair', 'type', 'entry', 'exit', 'size', 'stopLoss', 
                       'takeProfit', 'session', 'dateTime', 'notes', 'profitLoss', 
                       'result', 'userId', 'createdAt', 'updatedAt']);
      
      // Add all trades
      trades.forEach(trade => {
        sheet.appendRow([
          trade.id, trade.pair, trade.type, trade.entry, trade.exit, trade.size,
          trade.stopLoss || '', trade.takeProfit || '', trade.session, trade.dateTime,
          trade.notes || '', trade.profitLoss, trade.result, trade.userId,
          trade.createdAt, trade.updatedAt
        ]);
      });
      
      return ContentService.createTextOutput(JSON.stringify({
        success: true,
        message: 'Trades saved successfully'
      })).setMimeType(ContentService.MimeType.JSON);
    }
    
    if (action === 'loadTrades') {
      const rows = sheet.getDataRange().getValues();
      const trades = [];
      
      // Skip header row
      for (let i = 1; i < rows.length; i++) {
        const row = rows[i];
        if (row[0]) {
          trades.push({
            id: row[0],
            pair: row[1],
            type: row[2],
            entry: parseFloat(row[3]),
            exit: parseFloat(row[4]),
            size: parseFloat(row[5]),
            stopLoss: row[6] ? parseFloat(row[6]) : null,
            takeProfit: row[7] ? parseFloat(row[7]) : null,
            session: row[8],
            dateTime: row[9],
            notes: row[10],
            profitLoss: parseFloat(row[11]),
            result: row[12],
            userId: row[13],
            createdAt: row[14],
            updatedAt: row[15]
          });
        }
      }
      
      return ContentService.createTextOutput(JSON.stringify({
        success: true,
        trades: trades
      })).setMimeType(ContentService.MimeType.JSON);
    }
    
    if (action === 'getUsers') {
      // Get all sheets (each sheet is a user)
      const sheets = spreadsheet.getSheets();
      const users = [];
      
      sheets.forEach(sheet => {
        if (sheet.getName() !== 'Users' && sheet.getName() !== 'Settings') {
          const rows = sheet.getDataRange().getValues();
          if (rows.length > 1) {
            const lastTrade = rows[rows.length - 1];
            users.push({
              id: sheet.getName(),
              name: sheet.getName(), // In real app, store user info separately
              tradesCount: rows.length - 1,
              lastActive: lastTrade[15] || lastTrade[14]
            });
          }
        }
      });
      
      return ContentService.createTextOutput(JSON.stringify({
        success: true,
        users: users
      })).setMimeType(ContentService.MimeType.JSON);
    }
    
  } catch (error) {
    return ContentService.createTextOutput(JSON.stringify({
      success: false,
      error: error.toString()
    })).setMimeType(ContentService.MimeType.JSON);
  }
}
                    </div>
                    <p style="font-size: 12px; margin-top: 10px;">
                        1. Go to <a href="https://script.google.com" target="_blank">script.google.com</a><br>
                        2. Create new project<br>
                        3. Paste the code above<br>
                        4. Save and deploy as Web App<br>
                        5. Copy the Web App URL
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App (same as before) -->
    <div id="appContainer" class="app-container">
        <!-- All the main app HTML remains the same -->
        <!-- ... (all previous HTML structure) ... -->
    </div>

    <!-- All modals and toast container remain the same -->
    <!-- ... (all previous modals) ... -->

    <script>
        // Global variables
        let currentUser = null;
        let trades = [];
        let users = [];
        let isAdmin = false;
        let editTradeId = null;
        let cloudConnected = false;
        let darkMode = localStorage.getItem('darkMode') === 'true';
        let cloudConfig = JSON.parse(localStorage.getItem('cloudConfig')) || {
            enabled: false,
            gasUrl: '',
            useDemo: true
        };
        let demoServerUrl = 'https://script.google.com/macros/s/AKfycbwQNlpbh7qV8X5kZQeJ4LzQ8H7G3tKx8p9o0rVJ6D4/exec'; // Demo server

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            // Set theme
            if (darkMode) {
                document.body.classList.add('dark-mode');
            }

            // Load cloud configuration
            loadCloudConfig();

            // Check if user is already logged in (offline mode)
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                try {
                    currentUser = JSON.parse(savedUser);
                    showApp();
                    loadInitialData();
                } catch (e) {
                    localStorage.removeItem('currentUser');
                }
            }

            // Event Listeners
            document.getElementById('googleSignInBtn').addEventListener('click', handleGoogleSignIn);
            document.getElementById('loginBtn').addEventListener('click', handleLogin);
            document.getElementById('offlineModeBtn').addEventListener('click', handleOfflineMode);
            document.getElementById('logoutBtn').addEventListener('click', handleLogout);
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            document.getElementById('addTradeBtn').addEventListener('click', () => openTradeModal());
            document.getElementById('syncBtn').addEventListener('click', syncFromCloud);
            document.getElementById('closeModal').addEventListener('click', closeTradeModal);
            document.getElementById('cancelTradeBtn').addEventListener('click', closeTradeModal);
            document.getElementById('tradeForm').addEventListener('submit', saveTrade);
            document.getElementById('addFirstTrade').addEventListener('click', () => openTradeModal());
            document.getElementById('saveRiskRules').addEventListener('click', saveRiskRules);
            document.getElementById('saveSyncSettings').addEventListener('click', saveSyncSettings);
            document.getElementById('clearAllData').addEventListener('click', clearAllData);
            document.getElementById('saveCloudConfig').addEventListener('click', saveCloudConfig);
            document.getElementById('skipCloudSetup').addEventListener('click', skipCloudSetup);
            document.getElementById('closeCloudSetup').addEventListener('click', closeCloudSetup);
            document.getElementById('showGASInstructions').addEventListener('click', toggleGASInstructions);

            // Navigation
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', () => switchPage(tab.dataset.page));
            });

            // Time filters
            document.querySelectorAll('.time-filter-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.time-filter-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    updateDashboardStats(btn.dataset.period);
                });
            });

            // Initialize with current date
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('tradeDateTime').value = today + 'T09:00';
        });

        // Handle Google Sign-in
        async function handleGoogleSignIn() {
            try {
                showToast('Redirecting to Google Sign-in...', 'warning');
                
                // For demo purposes, we'll simulate Google Sign-in
                // In a real app, you would use Google OAuth 2.0
                
                // Show cloud setup modal after "sign-in"
                currentUser = {
                    id: generateId(),
                    email: 'user@gmail.com',
                    name: 'Google User',
                    role: 'trader',
                    avatar: 'G',
                    lastLogin: new Date().toISOString(),
                    isGoogleUser: true
                };
                
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                showCloudSetupModal();
                
            } catch (error) {
                showToast('Google Sign-in failed. Please try offline mode.', 'error');
                console.error('Google Sign-in error:', error);
            }
        }

        // Show cloud setup modal
        function showCloudSetupModal() {
            document.getElementById('cloudSetupModal').classList.add('active');
            document.getElementById('gasWebAppUrl').value = cloudConfig.gasUrl;
            document.getElementById('enableCloudSync').checked = cloudConfig.enabled;
        }

        // Close cloud setup modal
        function closeCloudSetup() {
            document.getElementById('cloudSetupModal').classList.remove('active');
        }

        // Toggle GAS instructions
        function toggleGASInstructions() {
            const instructions = document.getElementById('gasInstructions');
            instructions.style.display = instructions.style.display === 'none' ? 'block' : 'none';
        }

        // Save cloud configuration
        function saveCloudConfig() {
            const gasUrl = document.getElementById('gasWebAppUrl').value.trim();
            const enabled = document.getElementById('enableCloudSync').checked;
            
            cloudConfig = {
                enabled: enabled,
                gasUrl: gasUrl,
                useDemo: !gasUrl // Use demo if no custom URL provided
            };
            
            localStorage.setItem('cloudConfig', JSON.stringify(cloudConfig));
            
            closeCloudSetup();
            showApp();
            loadInitialData();
            showToast('Cloud configuration saved!', 'success');
        }

        // Skip cloud setup
        function skipCloudSetup() {
            cloudConfig.enabled = false;
            localStorage.setItem('cloudConfig', JSON.stringify(cloudConfig));
            
            closeCloudSetup();
            showApp();
            loadInitialData();
            showToast('Using offline mode', 'warning');
        }

        // Handle regular login
        async function handleLogin() {
            const email = document.getElementById('userEmail').value.trim();
            const name = document.getElementById('userName').value.trim();

            if (!email || !name) {
                showToast('Please fill in all fields', 'error');
                return;
            }

            currentUser = {
                id: generateId(),
                email,
                name,
                role: 'trader',
                avatar: name.charAt(0).toUpperCase(),
                lastLogin: new Date().toISOString(),
                isGoogleUser: false
            };

            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            if (cloudConfig.enabled) {
                showApp();
                loadInitialData();
            } else {
                showCloudSetupModal();
            }
            
            showToast('Login successful!', 'success');
        }

        // Handle offline mode
        function handleOfflineMode() {
            currentUser = {
                id: 'offline_user',
                email: 'offline@example.com',
                name: 'Offline User',
                role: 'trader',
                avatar: 'O',
                lastLogin: new Date().toISOString(),
                isGoogleUser: false
            };

            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            cloudConfig.enabled = false;
            localStorage.setItem('cloudConfig', JSON.stringify(cloudConfig));
            
            showApp();
            loadInitialData();
            showToast('Offline mode activated', 'warning');
        }

        // Load cloud configuration
        function loadCloudConfig() {
            const saved = localStorage.getItem('cloudConfig');
            if (saved) {
                cloudConfig = JSON.parse(saved);
            }
        }

        // Show main app
        function showApp() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('appContainer').classList.add('active');
            updateUserInfo();
        }

        // Update user info display
        function updateUserInfo() {
            if (!currentUser) return;

            document.getElementById('userDisplayName').textContent = currentUser.name;
            document.getElementById('userAvatarSmall').textContent = currentUser.avatar;

            // Check if user is admin
            isAdmin = currentUser.role === 'admin';
            if (isAdmin) {
                document.getElementById('adminControls').style.display = 'block';
                document.getElementById('usersTab').style.display = 'flex';
            } else {
                document.getElementById('adminControls').style.display = 'none';
                document.getElementById('usersTab').style.display = 'none';
            }
        }

        // Load initial data
        async function loadInitialData() {
            // Try to load from cloud first if enabled
            if (cloudConfig.enabled) {
                try {
                    await syncFromCloud(true); // Silent sync on load
                } catch (error) {
                    console.warn('Cloud sync failed, loading from local storage');
                    loadFromLocalStorage();
                }
            } else {
                loadFromLocalStorage();
            }

            // Update UI
            updateDashboardStats('all');
            renderJournalTable();
            updateAnalysis();
            checkCloudConnection();
        }

        // Load from local storage
        function loadFromLocalStorage() {
            const savedTrades = localStorage.getItem(`trades_${currentUser.id}`);
            if (savedTrades) {
                trades = JSON.parse(savedTrades);
            }
            loadUsers();
        }

        // Sync with cloud
        async function syncFromCloud(silent = false) {
            if (!cloudConfig.enabled) {
                if (!silent) showToast('Cloud sync is disabled', 'warning');
                return;
            }

            if (!silent) showToast('Syncing with cloud...', 'warning');

            try {
                const targetUrl = cloudConfig.useDemo ? demoServerUrl : cloudConfig.gasUrl;
                
                if (!targetUrl) {
                    throw new Error('No cloud URL configured');
                }

                // Load trades from cloud
                const loadResponse = await fetch(targetUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        action: 'loadTrades',
                        user: currentUser
                    })
                });

                const loadResult = await loadResponse.json();
                
                if (loadResult.success && loadResult.trades) {
                    trades = loadResult.trades;
                    saveTrades(); // Also save to localStorage as backup
                    if (!silent) showToast(`Loaded ${trades.length} trades from cloud`, 'success');
                } else {
                    throw new Error(loadResult.error || 'Failed to load from cloud');
                }

                // Update cloud connection status
                updateCloudStatus(true);

            } catch (error) {
                console.error('Cloud sync error:', error);
                if (!silent) showToast('Cloud sync failed: ' + error.message, 'error');
                updateCloudStatus(false);
                
                // Fallback to local storage
                if (trades.length === 0) {
                    loadFromLocalStorage();
                }
            }
        }

        // Save trades to cloud
        async function saveTradesToCloud() {
            if (!cloudConfig.enabled) return;

            try {
                const targetUrl = cloudConfig.useDemo ? demoServerUrl : cloudConfig.gasUrl;
                
                const response = await fetch(targetUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        action: 'saveTrades',
                        user: currentUser,
                        trades: trades
                    })
                });

                const result = await response.json();
                
                if (result.success) {
                    console.log('Trades saved to cloud');
                    return true;
                } else {
                    throw new Error(result.error);
                }
            } catch (error) {
                console.error('Failed to save to cloud:', error);
                showToast('Failed to save to cloud. Using local storage.', 'error');
                return false;
            }
        }

        // Save trades (to both local and cloud)
        async function saveTrades() {
            // Save to localStorage
            localStorage.setItem(`trades_${currentUser.id}`, JSON.stringify(trades));
            
            // Save to cloud if enabled
            if (cloudConfig.enabled) {
                await saveTradesToCloud();
            }
        }

        // Update cloud connection status
        function updateCloudStatus(connected) {
            cloudConnected = connected;
            const syncStatus = document.getElementById('syncStatus');
            
            if (cloudConfig.enabled) {
                if (connected) {
                    syncStatus.className = 'sync-status connected';
                    syncStatus.innerHTML = '<span class="material-icons">cloud_done</span><span>Cloud Connected</span>';
                } else {
                    syncStatus.className = 'sync-status disconnected';
                    syncStatus.innerHTML = '<span class="material-icons">cloud_off</span><span>Cloud Disconnected</span>';
                }
            } else {
                syncStatus.className = 'sync-status';
                syncStatus.innerHTML = '<span class="material-icons">computer</span><span>Offline Mode</span>';
            }
        }

        // Check cloud connection
        function checkCloudConnection() {
            if (!cloudConfig.enabled) {
                updateCloudStatus(false);
                return;
            }

            // Test connection
            fetch(cloudConfig.useDemo ? demoServerUrl : cloudConfig.gasUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    action: 'ping',
                    user: currentUser
                })
            })
            .then(response => response.json())
            .then(data => {
                updateCloudStatus(data.success === true);
            })
            .catch(error => {
                updateCloudStatus(false);
            });
        }

        // All other functions remain the same as before
        // ... (toggleTheme, switchPage, openTradeModal, closeTradeModal, saveTrade, etc.)

        // In the saveTrade function, update to use saveTrades() instead of just localStorage
        async function saveTrade(e) {
            e.preventDefault();

            const trade = {
                id: editTradeId || generateId(),
                pair: document.getElementById('currencyPair').value,
                type: document.getElementById('tradeType').value,
                entry: parseFloat(document.getElementById('entryPrice').value),
                exit: parseFloat(document.getElementById('exitPrice').value),
                size: parseFloat(document.getElementById('positionSize').value),
                stopLoss: document.getElementById('stopLoss').value ? parseFloat(document.getElementById('stopLoss').value) : null,
                takeProfit: document.getElementById('takeProfit').value ? parseFloat(document.getElementById('takeProfit').value) : null,
                session: document.getElementById('session').value,
                dateTime: document.getElementById('tradeDateTime').value,
                notes: document.getElementById('tradeNotes').value,
                userId: currentUser.id,
                createdAt: editTradeId ? new Date().toISOString() : new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };

            // Calculate profit/loss
            const isBuy = trade.type === 'Buy';
            const pips = (trade.exit - trade.entry) * (isBuy ? 1 : -1);
            trade.profitLoss = pips * trade.size;
            trade.result = trade.profitLoss > 0 ? 'Win' : trade.profitLoss < 0 ? 'Loss' : 'Breakeven';

            if (editTradeId) {
                // Update existing trade
                const index = trades.findIndex(t => t.id === editTradeId);
                if (index !== -1) {
                    trades[index] = trade;
                }
            } else {
                // Add new trade
                trades.unshift(trade);
            }

            // Save to both local and cloud
            await saveTrades();

            // Update UI
            closeTradeModal();
            updateDashboardStats('all');
            renderJournalTable();
            updateAnalysis();
            showToast(`Trade ${editTradeId ? 'updated' : 'added'} successfully!`, 'success');
        }

        // Handle logout
        function handleLogout() {
            if (confirm('Are you sure you want to logout?')) {
                currentUser = null;
                localStorage.removeItem('currentUser');
                document.getElementById('appContainer').classList.remove('active');
                document.getElementById('loginPage').style.display = 'block';
                
                // Reset form
                document.getElementById('userEmail').value = '';
                document.getElementById('userName').value = '';
                document.getElementById('userPassword').value = '';
                
                showToast('Logged out successfully', 'success');
            }
        }

        // Helper function: Generate unique ID
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        // Helper function: Format date
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        // Show toast notification
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <span class="material-icons">
                    ${type === 'success' ? 'check_circle' : 
                      type === 'error' ? 'error' : 
                      type === 'warning' ? 'warning' : 'info'}
                </span>
                ${message}
            `;

            container.appendChild(toast);

            // Remove toast after 5 seconds
            setTimeout(() => {
                toast.style.animation = 'slideInRight 0.3s ease reverse';
                setTimeout(() => toast.remove(), 300);
            }, 5000);
        }

        // All other existing functions remain the same...
        // (updateDashboardStats, renderJournalTable, updateAnalysis, etc.)

    </script>
</body>
</html>
